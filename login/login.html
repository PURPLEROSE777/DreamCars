<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Acceso ‚Äî Autos Premium</title>

<style>
/* === TU CSS ORIGINAL (SIN CAMBIOS) === */
:root{
  --bg:#0f0f12; 
  --card:#15161a; 
  --accent:#d40000; 
  --muted:#b7b7bd; 
  --glass: rgba(255,255,255,0.04);
  --radius:14px;
  --glow: 0 0 12px rgba(212,0,0,0.65);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#07070a 0%, #0f0f12 100%);
  color:#e8e8ea;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

.auth-page{
  width:100%;
  max-width:980px;
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

.back-home{
  position:fixed;
  left:18px;
  top:18px;
  color:var(--muted);
  text-decoration:none;
  font-size:14px;
  border-radius:8px;
  padding:6px 10px;
  backdrop-filter:blur(8px);
  border:1px solid rgba(255,255,255,0.06);
  transition:0.2s;
}
.back-home:hover{
  color:#fff;
  border-color:var(--accent);
}

.auth-card{
  background:var(--card);
  border-radius:var(--radius);
  padding:32px;
  width:100%;
  max-width:480px;
  box-shadow:0 10px 40px rgba(0,0,0,0.7);
  position:relative;
}

.brand-row{display:flex; align-items:center; gap:12px; margin-bottom:8px}
.logo{
  width:48px;height:48px;
  object-fit:contain;
  border-radius:10px;
  filter:drop-shadow(var(--glow));
}
.brand-row h1{
  font-size:22px;
  margin:0;
  color:#fff;
}

.tabs{
  display:flex;
  gap:6px;
  margin:12px 0 20px;
}
.tab{
  background:transparent;
  border:none;
  padding:10px 16px;
  border-radius:10px;
  color:var(--muted);
  cursor:pointer;
}
.tab.active{
  background:var(--glass);
  color:#fff;
  box-shadow: inset 0 0 12px rgba(212,0,0,0.3);
}

.alert{
  padding:12px 14px;
  border-radius:10px;
  margin-bottom:14px;
  font-weight:600;
  animation:fadeIn 0.3s forwards;
}
.alert.error{
  background:#3d0f0f; color:#ffbaba;
  border-left:3px solid var(--accent);
}
.alert.success{
  background:#0f3d1f; color:#b7ffcf;
  border-left:3px solid #00d46e;
}

.form{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.form input{
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,255,255,0.03);
  color:#fff;
}

.pwd-row{
  display:flex;
  gap:8px;
}
.pwd-toggle{
  background:transparent;
  border:none;
  color:var(--muted);
  font-size:18px;
}

.actions-row{
  display:flex;
  gap:10px;
  margin-top:8px;
}

.btn{
  padding:12px 14px;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
}
.btn.primary{
  background:var(--accent);
  color:#fff;
}
.btn.ghost{
  background:transparent;
  border:1px solid rgba(255,255,255,0.09);
  color:var(--muted);
}
</style>
</head>

<body>

<a class="back-home" href="../index.html">‚Üê Volver al inicio</a>

<div class="auth-page">
  <div class="auth-card">

    <!-- LOGO -->
    <div class="brand-row">
      <img src="tu_logo.png" class="logo">
      <h1>Autos Premium</h1>
    </div>

    <!-- TABS -->
    <div class="tabs">
      <button class="tab active" onclick="showLogin()">Iniciar Sesi√≥n</button>
      <button class="tab" onclick="showRegister()">Registrarse</button>
    </div>

    <div id="alert-container"></div>

    <!-- LOGIN -->
    <div id="login-layout">
      <div class="form">
        <label>Email</label>
        <input id="login-email" type="email">

        <label>Contrase√±a</label>
        <div class="pwd-row">
          <input id="login-pass" type="password">
          <button class="pwd-toggle" onclick="togglePwd('login-pass')">üëÅ</button>
        </div>

        <div class="actions-row">
          <button class="btn primary" onclick="login()">Entrar</button>
          <button class="btn ghost" onclick="showRegister()">Crear cuenta</button>
        </div>
      </div>
    </div>

    <!-- REGISTRO -->
    <div id="register-layout" style="display:none;">
      <div class="form">
        <label>Nombre completo</label>
        <input id="reg-name" type="text">

        <label>Email</label>
        <input id="reg-email" type="email">

        <label>Contrase√±a</label>
        <div class="pwd-row">
          <input id="reg-pass" type="password">
          <button class="pwd-toggle" onclick="togglePwd('reg-pass')">üëÅ</button>
        </div>

        <div class="actions-row">
          <button class="btn primary" onclick="registerUser()">Crear cuenta</button>
          <button class="btn ghost" onclick="showLogin()">Ya tengo cuenta</button>
        </div>
      </div>
    </div>

  </div>
</div>
  
<script>
window.addEventListener("DOMContentLoaded", () => {

  const loginLayout = document.getElementById("login-layout");
  const registerLayout = document.getElementById("register-layout");
  const alertBox = document.getElementById("alert-container");
  const tabs = document.getElementsByClassName("tab");

  window.showLogin = function(){
    loginLayout.style.display = "block";
    registerLayout.style.display = "none";
    tabs[0].classList.add("active");
    tabs[1].classList.remove("active");
  }

  window.showRegister = function(){
    loginLayout.style.display = "none";
    registerLayout.style.display = "block";
    tabs[1].classList.add("active");
    tabs[0].classList.remove("active");
  }

  window.togglePwd = function(id){
    const input = document.getElementById(id);
    input.type = input.type === "password" ? "text" : "password";
  }

  window.showAlert = function(msg, type="error"){
    alertBox.innerHTML = `<div class="alert ${type}">${msg}</div>`;
  }

});
</script>

<!-- SUPABASE REAL -->
<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js";

const supabase = createClient(
  "https://afhjlxljgwmkdnltoeie.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmaGpseGxqZ3dta2RubHRvZWllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3MjE1MzMsImV4cCI6MjA3ODI5NzUzM30.sTn0VsJC7sYGRZd7Yv5UfKMqs5s6-eRFDBJ0nf0J7Us"
);

console.log("‚úî Conectado a Supabase");

/*** LOGIN REAL ***/
window.login = async function(){
  let email=document.getElementById("login-email").value.trim();
  let pass=document.getElementById("login-pass").value.trim();

  if(!email||!pass){
    showAlert("Completa todos los campos.");
    return;
  }

  const{error}=await supabase.auth.signInWithPassword({email,password:pass});
  if(error){showAlert("Credenciales incorrectas.");return;}

  showAlert("Bienvenido üòé","success");
  setTimeout(()=>window.location.href="../index.html",900);
}

/*** REGISTRO REAL ***/
window.registerUser = async function(){
  let name=document.getElementById("reg-name").value.trim();
  let email=document.getElementById("reg-email").value.trim();
  let pass=document.getElementById("reg-pass").value.trim();

  if(pass.length<8){
    showAlert("La contrase√±a debe tener al menos 8 caracteres.");
    return;
  }

  const{error}=await supabase.auth.signUp({
    email,password:pass,
    options:{data:{full_name:name}}
  });

  if(error){showAlert(error.message);return;}

  showAlert("Registro exitoso. Revisa tu correo.","success");
}
</script>
</body>
</html>




