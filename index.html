<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Metadatos b√°sicos (tal como estaban en tu HTML original) -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Historia e √≠conos de marcas de autos legendarias.">
  <meta name="keywords" content="autos, deportivos, Ferrari, Lamborghini, Mustang">
  <meta name="author" content="Ximapan Cinivananini">
  <title>DreamCars: Leyendas Sobre Ruedas</title>
  <!-- Hoja de estilos principal (no se modifica, se reutiliza tal cual) -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER con navegaci√≥n (se conserva exactamente tu estructura) -->
  <header class="header">
    <!-- Marca principal (sin cambios) -->
    <div class="brand">DreamCars</div>
  <!-- NAV (sin cambios) -->
    <nav class="nav" aria-label="Navegaci√≥n principal">
      <a href="#inicio" id="linkInicio">Inicio</a>
      <a href="#" id="linkGaleria" aria-haspopup="dialog" aria-controls="galeriaOverlay">Galer√≠a de Coches</a>
      <a href="#" id="linkTabla" aria-haspopup="dialog" aria-controls="tablaOverlay"> Stock de  Coches</a>
      <!-- Entrada al inventario (mantener ID original) -->
      <a href="#" id="linkInventario" style="display:none" aria-haspopup="dialog" aria-controls="inventarioOverlay">Inventario</a>
      <a href="#" id="linkContacto" aria-haspopup="dialog" aria-controls="contactoOverlay">Contactanos</a>
      <a href="#" id="linkAutores" aria-haspopup="dialog" aria-controls="autoresOverlay">Desarrollado por</a>
    </nav>
   <!-- ‚≠ê BOT√ìN NUEVO DE LOGIN / REGISTRO ‚≠ê -->
<button id="btnLogin" class="btn-login"> Login</button>
<!-- Usuario logueado -->
<div id="userInfo" style="display:none; align-items:center; gap:10px; margin-left:20px; color:#fff;">
  <span id="userName"></span>
  <button id="btnLogout" class="btn-primario" style="padding:6px 12px;">Cerrar sesi√≥n</button>
</div>

  </header>

  <!-- MAIN (contenido principal) - se conserva exactamente el HTML que enviaste -->
  <main id="inicio" class="inicio">

    <!-- Intro con t√≠tulo y subt√≠tulo (sin cambios) -->
    <div class="intro">
      <h1 class="titulo">Leyendas Sobre Ruedas</h1>
      <p class="subtitulo">
        Historia, ingenier√≠a y los modelos m√°s ic√≥nicos de las marcas que 
        han marcado el rumbo del automovilismo.
      </p>
    </div>

    <!-- üîé Barra de b√∫squeda principal (sin cambios estructurales) -->
    <section class="formulario reveal" id="sugerencias">
      <h3>¬øBuscas alguna marca?</h3>
      <div class="form-row">
        <input type="text" id="marca" placeholder="Escribe la marca" />
        <button id="btnSugerir">Buscar</button>
      </div>
      <p id="mensaje"></p>
      <div id="resultados" class="resultados"></div>
    </section>

    <!-- Descripciones de autos y sus imagenes en la seccion principal -->

    <!--  Secci√≥n de marcas cargada autom√°ticamente desde Supabase -->
<section class="marcas" id="marcasContainer">
  <!-- Aqu√≠ el JS insertar√° las tarjetas -->
</section>
  <!-- Terminan Descripciones principales -->
<<!-- OVERLAY GALERIA -->
<div class="overlay" id="galeriaOverlay" aria-hidden="true" role="dialog">
  <div class="overlay-content">
    <div class="overlay-head">
      <h2>Galer√≠a de Coches</h2>
      <button class="btn-cerrar" id="cerrarGaleria">‚úï</button>
    </div>
    <div class="overlay-body">
      <div class="grid-galeria" id="galeriaOverlayContainer">
        <!-- Aqu√≠ tu JS inyectar√° las im√°genes -->
      </div>
    </div>
  </div>
</div> 
  
  <!-- OVERLAY AUTORES + INFORMACI√ìN DEL PROYECTO (CON SCROLL INTERNO) -->
<div class="overlay" id="autoresOverlay" aria-hidden="true" role="dialog">
  <div class="overlay-content autores">
    <div class="overlay-head">
      <h2>Desarrollado por</h2>
      <button class="btn-cerrar" id="cerrarAutores" aria-label="Cerrar autores">‚úï</button>
    </div>

    <!-- Cuerpo del overlay con scroll interno -->
    <div class="overlay-body" style="padding: 20px; overflow-y: auto; max-height: 75vh;">

      <!-- Lista de desarrolladores -->
      <ul class="lista-autores">
        <li>Alvarez Murcia Nicolas</li>
        <li>Davila Maldonado Julian</li>
        <li>Perez Pinilla Alan</li>
      </ul>

      <!-- Introducci√≥n -->
      <section class="proyecto-info" style="padding: 20px; border-top: 1px solid #2a2b36; margin-top: 10px;">
        <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Introducci√≥n ‚Äî DreamCars</h3>
        <p>DreamCars es una plataforma web interactiva que permite explorar y gestionar informaci√≥n detallada sobre marcas y modelos de autos ic√≥nicos. Combina dise√±o visual moderno, historial automotriz y administraci√≥n de datos en tiempo real.</p>

        <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Misi√≥n</h3>
        <p>Ofrecer una experiencia educativa e interactiva para los amantes del automovilismo, con informaci√≥n hist√≥rica y t√©cnica sobre cada marca y modelo.</p>

        <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Visi√≥n</h3>
        <p>Ser la plataforma digital de referencia para aficionados al automovilismo, con informaci√≥n confiable, accesible y est√©ticamente atractiva.</p>

        <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Objetivos</h3>
        <ul style="margin-left: 20px;">
          <li>Implementar una interfaz moderna y responsiva.</li>
          <li>Gestionar inventario con filtros, b√∫squedas y exportaciones.</li>
          <li>Centralizar im√°genes de autos en un bucket seguro en la nube.</li>
          <li>Aplicar buenas pr√°cticas de administraci√≥n de base de datos: triggers, logs, auditor√≠a, roles y backups.</li>
        </ul>
      </section>

      <!-- Documentaci√≥n T√©cnica -->
      <section class="proyecto-info" style="padding: 20px; border-top: 1px solid #2a2b36; margin-top: 20px;">
        <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Documentaci√≥n T√©cnica ‚Äî DreamCars</h3>
        <p>En esta secci√≥n se detalla la estructura de la base de datos, triggers, logs, roles, buckets y administraci√≥n aplicada al proyecto DreamCars.</p>

        <!-- 1Ô∏è‚É£ Tabla de marcas -->
        <h4>1. Tabla de marcas</h4>
        <p>La tabla <code>marcas</code> almacena informaci√≥n de cada marca, incluyendo descripci√≥n, icono, a√±o del icono y URL de imagen.</p>

        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.marcas (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  nombre text NOT NULL UNIQUE,
  descripcion text NOT NULL,
  icono text NOT NULL,
  anio_icono integer,
  imagen_url text NOT NULL,
  slug text NOT NULL UNIQUE,
  creado_en timestamp DEFAULT now(),
  actualizado_en timestamp DEFAULT now(),
  CONSTRAINT marcas_pkey PRIMARY KEY (id)
);</pre>

        <!-- images/tabla_marcas.jpg -->
        <p><strong>Visualizaci√≥n de la tabla:</strong></p>
        <img src="images/tabla_marcas.JPG" alt="Tabla de marcas" class="img-doc" style="width:100%; max-width:400px; display:block; margin-bottom:10px;" />

        <h5>Miniaturas de marcas:</h5>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <img src="images/marca1.jpg" alt="Marca 1" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
          <img src="images/marca2.jpg" alt="Marca 2" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
          <img src="images/marca3.jpg" alt="Marca 3" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
        </div>

        <h5>Trigger ‚Äî Actualizaci√≥n autom√°tica de timestamps:</h5>
        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE OR REPLACE FUNCTION update_marcas_timestamp()
RETURNS TRIGGER AS $$
BEGIN
  NEW.actualizado_en = now();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_update_marcas
BEFORE UPDATE ON public.marcas
FOR EACH ROW
EXECUTE FUNCTION update_marcas_timestamp();</pre>

        <h5>Logs de cambios en marcas:</h5>
        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.marcas_log (
  id serial PRIMARY KEY,
  marca_id uuid,
  accion text,
  cambios jsonb,
  realizado_por uuid,
  fecha timestamp DEFAULT now()
);</pre>

        <!-- 2Ô∏è‚É£ Tabla profiles y Auth -->
        <h4>2. Tabla Profiles y gesti√≥n de usuarios</h4>
        <p>La tabla <code>profiles</code> est√° conectada a <code>auth.users</code> de Supabase y permite gestionar roles y auditor√≠a.</p>

        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.profiles (
  id uuid NOT NULL,
  full_name text NOT NULL,
  created_at timestamp with time zone DEFAULT timezone('utc', now()),
  role text DEFAULT 'user',
  CONSTRAINT profiles_pkey PRIMARY KEY (id),
  CONSTRAINT profiles_id_fkey FOREIGN KEY (id) REFERENCES auth.users(id)
);</pre>

        <!-- images/profiles_tabla.jpg -->
        <p><strong>Tabla Profiles:</strong></p>
        <img src="images/profiles_tabla.JPG alt="Tabla Profiles" class="img-doc" style="width:100%; max-width:400px; display:block; margin-bottom:10px;" />

        <h5>Visualizaci√≥n de roles y permisos:</h5>
        <div style="display:flex; gap:20px; margin-bottom:10px;">
          <div style="text-align:center;">
            <div style="background:#4CAF50; color:white; padding:10px; border-radius:6px;">Admin</div>
            <small>Control total sobre marcas, perfiles y galer√≠a</small>
          </div>
          <div style="text-align:center;">
            <div style="background:#2196F3; color:white; padding:10px; border-radius:6px;">Supervisor</div>
            <small>Revisi√≥n y auditor√≠a de datos</small>
          </div>
          <div style="text-align:center;">
            <div style="background:#FFC107; color:white; padding:10px; border-radius:6px;">Usuario</div>
            <small>Acceso solo a visualizaci√≥n de galer√≠a y marcas</small>
          </div>
        </div>

        <h5>Trigger ‚Äî Auditor√≠a de roles:</h5>
        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.roles_log (
  id serial PRIMARY KEY,
  user_id uuid NOT NULL,
  old_role text,
  new_role text,
  cambiado_por uuid,
  fecha timestamp DEFAULT now()
);

CREATE OR REPLACE FUNCTION audita_roles()
RETURNS TRIGGER AS $$
BEGIN
  IF OLD.role IS DISTINCT FROM NEW.role THEN
    INSERT INTO roles_log(user_id, old_role, new_role, cambiado_por, fecha)
    VALUES (OLD.id, OLD.role, NEW.role, NEW.id, now());
  END IF;
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_audita_roles
AFTER UPDATE ON public.profiles
FOR EACH ROW
EXECUTE FUNCTION audita_roles();</pre>

        <!-- 3Ô∏è‚É£ Galer√≠a -->
        <h4>3. Tabla Galer√≠a</h4>
        <p>La tabla <code>galeria</code> almacena im√°genes de autos para el layout. Contiene nombre, URL, categor√≠a y orden.</p>

        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.galeria (
  id uuid NOT NULL DEFAULT gen_random_uuid(),
  nombre text NOT NULL,
  url text NOT NULL,
  orden integer DEFAULT 0,
  categoria text DEFAULT 'general',
  created_at timestamp with time zone DEFAULT now(),
  CONSTRAINT galeria_pkey PRIMARY KEY (id)
);</pre>

        <!-- images/galeria_vista.jpg -->
        <p><strong>Galer√≠a completa:</strong></p>
        <img src="images/galeria_vista.JPG" alt="Galer√≠a completa" class="img-doc" style="width:100%; max-width:400px; display:block; margin-bottom:10px;" />

        <h5>Miniaturas de galer√≠a:</h5>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;">
          <img src="images/galeria1.jpg" alt="Auto 1" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
          <img src="images/galeria2.jpg" alt="Auto 2" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
          <img src="images/galeria3.jpg" alt="Auto 3" style="width:80px; height:80px; object-fit:cover; border-radius:8px;"/>
        </div>

        <h5>Trigger ‚Äî Auditor√≠a de galer√≠a:</h5>
        <pre style="background:#2a2b36; color:#fff; padding:10px;">CREATE TABLE public.galeria_log (
  id serial PRIMARY KEY,
  galeria_id uuid,
  accion text,
  detalles jsonb,
  usuario_id uuid,
  fecha timestamp DEFAULT now()
);

CREATE OR REPLACE FUNCTION audita_galeria()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO galeria_log(galeria_id, accion, detalles, usuario_id, fecha)
  VALUES (NEW.id, TG_OP, row_to_json(NEW), NEW.id, now());
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trg_audita_galeria
AFTER INSERT OR UPDATE OR DELETE ON public.galeria
FOR EACH ROW
EXECUTE FUNCTION audita_galeria();</pre>

        <!-- Administraci√≥n avanzada -->
        <h4>4. Administraci√≥n de Base de Datos y Buenas Pr√°cticas</h4>
        <ul>
          <li>Backups autom√°ticos diarios de todas las tablas.</li>
          <li>Logs de transacciones completos (inserciones, actualizaciones, eliminaciones).</li>
          <li>Roles diferenciados: admin, supervisor y usuario est√°ndar.</li>
          <li>√çndices y constraints para optimizar consultas y mantener integridad.</li>
          <li>Plan de recuperaci√≥n ante fallos y auditor√≠a de cada tabla.</li>
        </ul>

        <!-- Bucket de im√°genes -->
        <h4>5. Gesti√≥n de im√°genes con Bucket</h4>
        <p>Se utiliza un bucket de Supabase Storage para almacenar im√°genes locales de autos. Permite:</p>
        <ul>
          <li>Almacenamiento seguro en la nube con URLs p√∫blicas.</li>
          <li>Organizaci√≥n por carpetas y categor√≠as.</li>
          <li>Inserci√≥n directa en la tabla <code>galeria</code> mediante URLs.</li>
        </ul>

        <!-- Resumen -->
        <section class="proyecto-info" style="padding: 20px; border-top: 1px solid #2a2b36; margin-top: 20px;">
          <h3 style="color: var(--accent); text-align: center; margin-bottom: 14px;">Resumen de Buenas Pr√°cticas</h3>
          <ul>
            <li>Triggers para actualizar timestamps y auditar cambios.</li>
            <li>Logs separados para marcas, roles y galer√≠a.</li>
            <li>Backups peri√≥dicos y plan de recuperaci√≥n ante fallos.</li>
            <li>Roles y permisos diferenciados seg√∫n funciones.</li>
            <li>Integridad referencial con foreign keys y constraints.</li>
            <li>Bucket centralizado para gesti√≥n de im√°genes locales.</li>
            <li>Miniaturas de marcas y galer√≠a para visualizaci√≥n r√°pida en la UI.</li>
          </ul>
        </section>

    </div><!-- /.overlay-body -->
  </div><!-- /.overlay-content -->
</div><!-- /.overlay -->


  <!-- OVERLAY TABLA COMPARATIVA (sin cambios) -->
  <div class="overlay" id="tablaOverlay" aria-hidden="true" role="dialog">
    <div class="overlay-content tabla">
      <div class="overlay-head">
        <h2>Tabla Comparativa</h2>
        <button class="btn-cerrar" id="cerrarTabla" aria-label="Cerrar tabla">‚úï</button>
      </div>
      <div class="overlay-body">
        <table class="tabla-autos">
          <thead>
            <tr>
              <th>Marca</th>
              <th>Imagen</th>
              <th>√çcono</th>
              <th>A√±o</th>
              <th>Caracter√≠sticas</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Ford</td>
              <td><img src="images/ford.jpg" alt="Ford Mustang"></td>
              <td>Mustang</td>
              <td>1964</td>
              <td>Muscle car, accesible, s√≠mbolo de libertad</td>
            </tr>
            <tr>
              <td>Lamborghini</td>
              <td><img src="images/lamborghini.jpg" alt="Lamborghini Miura"></td>
              <td>Miura</td>
              <td>1966</td>
              <td>Primer superdeportivo motor central</td>
            </tr>
            <tr>
              <td>Ferrari</td>
              <td><img src="images/ferrari.jpg" alt="Ferrari F40"></td>
              <td>F40</td>
              <td>1987</td>
              <td>Ligero, potente, √∫ltimo de Enzo</td>
            </tr>
            <tr>
              <td>BMW</td>
              <td><img src="images/bmw.jpg" alt="BMW M3 E30"></td>
              <td>M3 E30</td>
              <td>1986</td>
              <td>Equilibrio perfecto, deportivo de calle</td>
            </tr>
            <tr>
              <td>Mercedes</td>
              <td><img src="images/mercedes.jpg" alt="Mercedes 300 SL"></td>
              <td>300 SL</td>
              <td>1954</td>
              <td>Puertas de ala de gaviota, lujo e innovaci√≥n</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

<!-- OVERLAY INVENTARIO (CORREGIDO) -->
<div class="overlay" id="inventarioOverlay" aria-hidden="true" role="dialog">
  <div class="overlay-content tabla">
    <div class="overlay-head">
      <h2>Inventario de Carros</h2>
      <button class="btn-cerrar" id="cerrarInventario" aria-label="Cerrar inventario">‚úï</button>
    </div>

    <div class="overlay-body" style="padding:18px">

      <!-- Contenedor para vista en tarjetas -->
      <div id="cardsInventario" class="grid-cards" style="display:none"></div>

      <!-- Barra de herramientas del inventario -->
      <section class="formulario" id="toolbarInventario" style="margin-top:0">
        <h3>Gesti√≥n</h3>
        <div class="form-row" style="flex-wrap:wrap">
          <input type="text" id="invBuscar" placeholder="Buscar por marca/modelo‚Ä¶">
          <select id="invFiltroCategoria" aria-label="Filtrar por categor√≠a">
            <option value="">Todas las categor√≠as</option>
            <option value="Deportivo">Deportivo</option>
            <option value="Lujo">Lujo</option>
            <option value="Cl√°sico">Cl√°sico</option>
            <option value="SUV">SUV</option>
            <option value="H√≠brido/EV">H√≠brido/EV</option>
          </select>

          <input type="number" id="invPrecioMin" placeholder="Precio min ($)" min="0" style="max-width:140px">
          <input type="number" id="invPrecioMax" placeholder="Precio max ($)" min="0" style="max-width:140px">
          <input type="number" id="invAnioMin" placeholder="A√±o min" min="1900" max="2099" style="max-width:120px">
          <input type="number" id="invAnioMax" placeholder="A√±o max" min="1900" max="2099" style="max-width:120px">

          <label style="display:inline-flex;align-items:center;gap:8px">
            <input type="checkbox" id="invDisponibilidad"> Mostrar solo disponibles
          </label>

          <button id="invExportar" class="btn-primario" type="button">Exportar JSON</button>
          <label for="invImportar" class="btn-primario" style="display:inline-flex;align-           items:center;gap:6px;cursor:pointer">
            Importar JSON <input id="invImportar" type="file" accept="application/json" style="display:none">
          </label>
          <button id="invVaciar" class="btn-primario" type="button" aria-live="polite">Vaciar Inventario</button>
        </div>
      </section>

      <!-- Formulario de alta/edici√≥n -->
      <form id="formInventario" class="formulario" autocomplete="off">
        <h3>Agregar / Editar Auto</h3>
        <div class="form-row" style="flex-wrap:wrap">
          <input type="text" id="iMarca" placeholder="Marca *" required>
          <input type="text" id="iModelo" placeholder="Modelo *" required>
          <input type="number" id="iAnio" placeholder="A√±o *" min="1900" max="2099" required>
          <select id="iCategoria" required>
            <option value="" disabled selected>Categor√≠a *</option>
            <option>Deportivo</option>
            <option>Lujo</option>
            <option>Cl√°sico</option>
            <option>SUV</option>
            <option>H√≠brido/EV</option>
          </select>
          <input type="number" id="iStock" placeholder="Cantidad *" min="0" required>
          <input type="number" id="iPrecio" placeholder="Precio ($) *" min="0" step="0.01" required>
          <input type="number" id="iCosto" placeholder="Costo ($)" min="0" step="0.01">
          <input type="text" id="iSKU" placeholder="SKU / ID">
          <input type="url" id="iImagen" placeholder="URL imagen (opcional)">
          <button type="submit" class="btn-primario" id="btnGuardarAuto">‚ûï Guardar</button>
          <button type="button" class="btn-primario" id="btnCancelarEdicion" style="display:none">Cancelar</button>
        </div>
        <input type="hidden" id="iEditIndex" value="">
      </form>

      <!-- Panel de estad√≠sticas -->
      <section id="invStats" class="formulario" style="margin-top:12px">
        <h3>Estad√≠sticas del Inventario</h3>
        <div class="form-row" style="flex-wrap:wrap; justify-content:space-around; text-align:center">
          <div class="stat-card"><p>Total Autos</p><h4 id="statTotalAutos">0</h4></div>
          <div class="stat-card"><p>Stock Total</p><h4 id="statStock">0</h4></div>
          <div class="stat-card"><p>Valor Promedio</p><h4 id="statPromedio">$0</h4></div>
          <div class="stat-card"><p>Valor Total</p><h4 id="statValorTotal">$0</h4></div>
          <div class="stat-card"><p>Marca m√°s frecuente</p><h4 id="statMarcaFrecuente">-</h4></div>
          <div class="stat-card"><p>Auto m√°s caro</p><h4 id="statAutoCaro">-</h4></div>
          <div class="stat-card"><p>Mayor margen</p><h4 id="statMayorMargen">-</h4></div>
        </div>
      </section>

      <!-- Tabla din√°mica -->
      <div style="overflow:auto;border:1px solid #2a2b36;border-radius:14px">
        <table class="tabla-autos" id="tablaInventario" aria-describedby="tablaInventarioDesc">
          <caption id="tablaInventarioDesc" style="caption-side:bottom;padding:8px 12px;color:#b7b7bd">
            Click en los encabezados para ordenar. Doble click reinicia el orden.
          </caption>
          <thead>
            <tr>
              <th data-sort="marca" role="button" tabindex="0">Marca</th>
              <th data-sort="modelo" role="button" tabindex="0">Modelo</th>
              <th data-sort="anio" role="button" tabindex="0">A√±o</th>
              <th data-sort="categoria" role="button" tabindex="0">Categor√≠a</th>
              <th>Imagen</th>
              <th data-sort="stock" role="button" tabindex="0">Stock</th>
              <th data-sort="precio" role="button" tabindex="0">Precio</th>
              <th data-sort="costo" role="button" tabindex="0">Costo</th>
              <th data-sort="margen" role="button" tabindex="0">Margen %</th>
              <th data-sort="valor" role="button" tabindex="0">Valor Total</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody><!-- filas inyectadas por JS --></tbody>
          <tfoot>
            <tr>
              <td colspan="10" style="text-align:right;font-weight:700">Valor total inventario:</td>
              <td id="invTotal" style="font-weight:800">$0</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <!-- Dialogo y template -->
      <dialog id="dlgConfirmar">
        <form method="dialog" style="padding:12px 0">
          <p id="dlgMsg" style="margin:0 0 10px">¬øConfirmas la eliminaci√≥n?</p>
          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button value="cancel">Cancelar</button>
            <button value="ok" class="btn-primario">Eliminar</button>
          </div>
        </form>
      </dialog>

      <template id="tplFilaInventario">
        <tr>
          <td class="c-marca"></td>
          <td class="c-modelo"></td>
          <td class="c-anio"></td>
          <td class="c-categoria"></td>
          <td class="c-img"></td>
          <td class="c-stock"></td>
          <td class="c-precio"></td>
          <td class="c-costo"></td>
          <td class="c-margen"></td>
          <td class="c-valor"></td>
          <td class="c-acciones"></td>
        </tr>
      </template>

    </div><!-- /.overlay-body -->
  </div><!-- /.overlay-content -->
</div><!-- /.overlay -->

    
  <!-- OVERLAY CONTACTO (sin cambios) -->
  <div class="overlay" id="contactoOverlay" aria-hidden="true" role="dialog">
    <div class="overlay-content">
      <div class="overlay-head">
        <h2>Contacto</h2>
        <button class="btn-cerrar" id="cerrarContacto" aria-label="Cerrar contacto">‚úï</button>
      </div>
      <div class="overlay-body">
        <form action="#" method="post">
          <div class="form-row">
            <input type="text" id="nombre" name="nombre" required placeholder="Tu nombre completo">
          </div>
          <div class="form-row">
            <input type="email" id="email" name="email" required placeholder="tu@email.com">
          </div>
          <div class="form-row">
            <textarea id="mensaje" name="mensaje" rows="4" required placeholder="Escribe tu mensaje"></textarea>
          </div>
          <button type="submit" class="btn-primario">Enviar</button>
        </form>
      </div>
    </div>
  </div>

<!-- Footer Final -->
<footer class="footer">
  <div class="footer-contenido">
    <div class="footer-botones">
      <button id="footerAutores" class="btn-primario" aria-haspopup="dialog" aria-controls="autoresOverlay">
        Desarrolladores
      </button>
    </div>
    <p class="footer-texto">&copy; 2025 DreamCars ‚Äî Leyendas Sobre Ruedas</p>
  </div>
</footer>
    <!-- LOGIN OVERLAY -->
<div id="loginOverlay">
  
  <div class="auth-card">
    
    <div class="brand-row">
      <img src="logo.png" class="logo" alt="Logo">
      <h1>Autos Premium</h1>
    </div>

    <div class="tabs">
      <button class="tab active" id="tabLogin">Iniciar Sesi√≥n</button>
      <button class="tab" id="tabRegister">Registrarse</button>
    </div>

    <div id="alert-container"></div>

    <!-- LOGIN -->
    <div id="login-layout">
      <div class="form">
        <input id="login-email" type="email" placeholder="Email">
        <input id="login-pass" type="password" placeholder="Contrase√±a">
        <button class="btn primary" id="btnDoLogin">Entrar</button>
      </div>
    </div>

    <!-- REGISTRO -->
    <div id="register-layout" class="hidden">
      <div class="form">
        <input id="reg-name" type="text" placeholder="Nombre completo">
        <input id="reg-email" type="email" placeholder="Email">
        <input id="reg-pass" type="password" placeholder="Contrase√±a">
        <button class="btn primary" id="btnDoRegister">Crear cuenta</button>
      </div>
    </div>

  </div>
</div>
 <!-- Aqui termina el overlay Login -->
    
    <!-- Scripts al final -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
 <script type="module" src="js/script.js"></script>
    <script type="module" src="js/cargarMarcas.js"></script>
    <script type="module" src="js/galeriaSupabase.js"></script>
</body>
</html>



























